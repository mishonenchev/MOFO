
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}

<div class="container">
    <!--ko if: activeSession()!=undefined-->
    <h6 class="section-label">
        Активна сесия
    </h6>
    <div class="card-deck" style="max-width: 70rem;margin: 0 auto;" data-bind="with: activeSession">
            <div class="card-3 card" style="cursor:pointer ; width: 100%" data-bind="click: $parent.openActiveSession">
                <div class="social-box">
                    <div class="card-title" style="padding: 30px 0;margin: 0;background: #57a7da;color: white;"><h4 data-bind="text: name">стая 404</h4><p data-bind="text: description">Кабинет по история</p></div>

                    <ul>
                        <li>
                            <strong data-bind="text: usersCount">15</strong>
                            <span>УЧЕНИЦИ</span>
                        </li>
                        <li>
                            <strong data-bind="text: messagesCount">10</strong>
                            <span>Съобщения</span>
                        </li>
                    </ul>
                </div>
            </div>
    </div>

    <!--/ko-->
    <!--ko if: sessions()!=undefined-->
    <h6 class="section-label">
        Последни сесии
    </h6>
    <div class="card-deck" style="max-width: 70rem;margin: 0 auto;" data-bind="foreach: sessions">

        <div class="card card-3" data-bind="click: $parent.gotoTestUrl" style="cursor: pointer">
            <div class="card-body">
                <h4 class="card-title" data-bind="text: name">стая 404</h4>
                <p class="card-text">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="callout callout-info">
                                <small class="text-muted">Брой ученици</small><br>
                                <strong class="h4" data-bind="text: usersCount">10</strong>
                            </div>
                        </div><!--/.col-->
                        <div class="col-lg-6">
                            <div class="callout callout-warning">
                                <small class="text-muted">Брой съобщения</small><br>
                                <strong class="h4" data-bind="text: messagesCount">15</strong>
                            </div>
                        </div><!--/.col-->
                    </div>
                </p>
                <p class="card-text"><small class="text-muted">Преди <span data-bind="text: lastActive"></span></small></p>
            </div>
        </div>
    </div>
    <!--/ko-->
    <!--ko if: sessions()==undefined&&activeSession()==undefined-->
    <div class="app flex-row align-items-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-7">
                    <div class="card text-center">
                        <div class="card-body">
                            <h5><strong>Няма намерени класове или тестове.</strong> </h5><p> Можете да създадете такива от разделите "Всички класове" и "Всички тестове"</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/ko-->


</div>
@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "__AjaxAntiForgeryForm" }))
{
    @Html.AntiForgeryToken()
}

@section AddToScript{
    @Scripts.Render("~/users/index")
}
